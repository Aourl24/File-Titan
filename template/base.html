{%load static %}
{%load settings_tag%}
<!--DOCTYPE html>-->
<html>
    <head>
        <meta charset="utf-8"/>
        <meta content="width=device-width initial-scale=1" name="viewport"/>
        <meta content="" name="theme-color"/>
        {%settings_value 'LOCAL' as L %}

    {%if L%}
        
        <link href="{%static 'css/animate.min.css'%}" rel="stylesheet"/>
        <!-- <link rel='stylesheet' href="{%static 'css/default.min.css'%}" media="print" onload="this.media='all'"> -->
        <link href="{%static 'css/acss/acss_animation.css'%}" media="print" onload="this.media='all'" rel="stylesheet"/>
        <link href="{%static 'css/bootstrap5/css/bootstrap.min.css'%}" rel="stylesheet"/>
        <link href="{%static 'css/fontawesome_5/css/all.min.css'%}" media="print" onload="this.media='all'" rel="stylesheet"/>
        {%else%}
    {%include 'cdn.html'%}
    {%endif%}
        <link href="{%static 'css/acss/acss_basic.css'%}" rel="stylesheet"/>
        <link href="{%static 'css/acss/acss.css'%}" rel="stylesheet"/>
        {%if 'dark' in request.session.keys %}
        <link href="{%static 'css/acss/acss_dark.css'%}" rel="stylesheet"/>
        {%endif%}
        <link href="{%static 'css/Landin.css' %}" rel="stylesheet"/>
        <script src="{%static 'js/react.production.min.js'%}">
        </script>
        <script src="{%static 'js/react-dom.production.min.js'%}">
        </script>
        <script src="{%static 'js/babel.min.js'%}">
        </script>
        <script async="" src="{%static 'js/htmx.min.js'%}">
        </script>
        <script src="{%static 'js/jquery.min.js'%}">
        </script>
        <script src="{%static 'js/axios.min.js'%}">
        </script>
        <script src="{%static 'js/ace.min.js'%}">
        </script>
        <script src="{%static 'js/react_ace.min.js'%}">
        </script>

        <!--<script type='text/javascript'>hljs.highlightAll()</script> -->
        <script type="text/javascript">
            ace.config.set('basePath',"{%static 'js'%}")
        </script>
        <title>
            File-Titan
        </title>
    </head>
    <style>
        :root {
    --primary-color:#0020C2;
    --secondary-color:red;
    --tertiary-color:#f39c12 ;
}
    {
        1DA1F2,4b8ef1
    }
    .header {
        word-spacing: 25px;

    }

    .preloader {
        height: 100%;
        width: 100%;
        position:absolute;
        z-index: 10000000;
        backgrond-color: white;
    }

    .dot {
        display: inline-block;
    }

    .rounded {
        border-radius: 40px;
    }
    .small {
        display: inline-block;
        height: 25px;
        width: 25px;
        border-radius: 200px;
        border: 2px solid white;
    }

    p-bg-color {
        background: color: #1DA1F2 !important
    }

    .dropdown {
        display: none;
    }

    .header-area .nav .main-nav {
        margin: 0px;
        padding: 0px;
        height: 10px;
        line-height: 0px;
    }

    .header-area .min-nav .na {
        height: 10px !important;
        line-height: 5px !important;
        margin-top: 0px !important;
        padding: 0px !important;
    }

    body {
        backgrond-color: black;
        color: black !important;
        padding: 0px
    }

    .wow {
        font-fmily: monospace;
    }
    .mesize {
        color: black
    }
    .passive {
        color: #808080
    }

    .message {
        background-color: #4b8ef1;
        color: white;
        padding: 3px;
        z-index: 1000000000000000000000;
    }

    .pop {
        position: fixed;
        top: 40%;
        z-index: 10000000
    }

    {
        var(--secondary-color)
    }
    .bpop {
        background-color: white;
        coor: white;
        border-radius: 5px;
        border: 2px solid white;
        padding: 10px;
        z-index: 1000000000;
        ox-shadow: 0 0 2px black;
    }

    p {
        color: black;
        padding: 5px;
    }

    .mesize {
        15px
    }

    .desize {
        12px
    }
    .dropD{
        width:200px;
        height:100%;
    }
    @media(max-width:600px){
        .dropD{
            width:100%;
            height:200%;
        }
        .dropB{
            height:100%;
            width:100%;
            left:0px;
        }
        .shiftMargin{
          margin-left:-18px;
        }
    }
    .hideI{
        display:none!important;
    }
    a{
        text-decoration: none;
        color:inherit!important;
    }
    a:hover {
        color: var(--primary-color);
        padding:3px;
    }
    button:hover{
        background-color:silver;
    }
    btn:focus{
        background-color:silver;
        color:black;
    }
    a:focus{
        color:var(--primary-color);
    }
    input{
      height:1.2cm;
    }

    .shadow {
ox-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;
box-shadow: rgba(0, 0, 0, 0.1) 0px 1px 3px 0px, rgba(0, 0, 0, 0.06) 0px 1px 2px 0px;!important
    }
    .btn-link{
        text-decoration: none;
    }

     ::-webkit-scrollbar {
        width: 8px;
        height: 3px;
        border-radius:10px;
        dispay:none;
    }

    ::-webkit-scrollbar-track {
        background:silver;
    }

    ::-webkit-scrollbar-thumb {
        background:grey;
        width:2px;
    }
    </style>
    <body class="font-poppins sz-16 center-body bg-lig t">
        <div class="color-bg-white h-100 w-100 d-flex justify-content-center align-items-center position-fixed" id="pre-loader" style="z-index:10000">
            <span class="dot animate__animated animate__bounce animte__delay-1s animate__infinite color-p aniate__slow" style="">
                File
            </span>
            <span class="dot animate__animated animate__bounce aniate__delay-2s animate__infinite color-s animate__fast">
                Titan
            </span>
        </div>
        {%block header%}
        <nav class="navbar justify-content-center col r-bg-p sz-12 container-fluid color-p align-items-center bg-ligt psition-fixed p-2 border-bottom mb-2" id="" style=" z-index:7000;margin-top:-7px">
            <div class="sz-18 bold navbar-brand color-p col px-1" style="fot-size:22px;">
                <img class="img-fluid hide" src="{%static 'images/logo.png'%}" style="width:25px;height:25px;object-fit:contain "/>
                File-Titan
            </div>
                <form action="{%url 'SearchUrl' %}" class="" method="POST">
                    {%csrf_token%}
              </form>
            </div>
            {%if request.user.is_authenticated%}
            <div class="navbar-brand col-1 color-p">
                <a href="{%url 'NotifyUrl'%}">
                    <i class="fas fa-bell">
                    </i>
                    {% if request.user.profile.unread_notification.all %}
                    <span class="sz-8 color-bg-t p-1 color-white rounded-circle center" style="display:inline-block;font-size:8px;margin-left:-8px;margin-bottom:-20px;height:12px;width:12px;position:absolute">
                        {{requst.user.profile.unread_notification.count}}
                    </span>
                    {%endif%}
                </a>
            </div>
            <div class="navbar-brand col-1 color-white display-sm-none">
                <a href="{%url 'AboutUrl'%}" class="no-decoration">About</a>
            </div>

            <div class="navbar-brand col-1 color-white display-sm-none ">
                <a href="{%url 'HowToUrl'%}" class="no-decoration">Tutorial</a>
            </div>

            <div class="sz-14 display-sm-none navbar-brand  p-0 color-white">
                <a class="no-decoration" href="{% url 'account_logout'%}">
                    Log Out
                </a>
            </div>
            {%endif%}
            <div class="display-md-none sz-20 navbar-brand color-p" style="text-align:right">
                <i class="fas fa-bars animate__animated animate__bounce bordr rounded p-1" id="tri" onclick="show()">
                </i>
            </div>
        </nav>
        <br class="hide" style="line-height:40px"/>
        {%endblock%}
        <div class="container-fluid">
            <div class="row justify-content-evenly">
                {%block sidebar%}
                <div class="col-2 colo-bg-p">
                    <div class="position-fixed border-right m-0 color-bg-white color-bg-dark-light conner border-right h-100" id="hold" style="z-index:600000;overfw: auto;">
                        <div class="dropD display-sm-none animate__animated animate__slideInDown animate__fast overflow-auto clor-bg-white color-bg-dark-light m-0 p-3 rouned" id="dropdown" style="overflow:auto;brder-right:2px solid silver;">
                            <div class="row">
                                <div class="col">
                                    <form action="{%url 'SearchUrl' %}" class="" method="POST">
                                        {%csrf_token%}
                                        <input class="form-control p-2 sz-16" name="search" placeholder="search files and directories" style="width:100%;height:1.3cm" type="search"/>
                                    </form>
                                </div>
                            </div>
                            {%if request.user.is_authenticated %}
                            <div class="hide row boder-bottom py-2 color-black align-items-center">
                                <div class="col-2">
                                    <img class="rounded-circle hide img-flud" heigt="30px" src="{{request.user.profile.profile_photo.url}}" style="object-fit:cover;width:;heigt:25px" widh="30px"/>
                                </div>
                                <div class="col">
                                    {{request.user.username|title|truncatechars:'13'}}
                                </div>
                            </div>
                            <hr class="color-white" style="border-color:white"/>
                            {%endif%}
                            <div class="row my-3 hide">
                                <div class="col-2 color-white">
                                    <i class="fas fa-home color-t">
                                    </i>
                                </div>
                                <div class="col">
                                    <a class="col sz-14 color-white" href="{%url 'FileViewUrl' %} ">
                                        Explore
                                    </a>
                                </div>
                            </div>
                            <div class="row my-3">
                                <div class="col-2 color-black">
                                    <i class="fas fa-plus color-t">
                                    </i>
                                </div>
                                <div class="col">
                                    <a class="col sz-14 color-black" href="{%url 'FolderFormUrl' %} ">
                                        Create Directory
                                    </a>
                                </div>
                            </div>
                            {%if request.user.is_authenticated %}
                            <div class="row my-3">
                                <div class="col-2 color-black">
                                    <i class="fas fa-user color-t">
                                    </i>
                                </div>
                                <div class="col sz-14">
                                    <a class="color-black" href="{%url 'ProfileUrl' request.user.profile.id %}">
                                        My Dashboard
                                    </a>
                                </div>
                            </div>
                          <div class='row display-md-none my-3'>
                            <div class='col-2'><i class='fas fa-info color-t'></i></div>
                            <div class=" col">
                <a href="{%url 'AboutUrl'%}" class="no-decoration sz-14">About</a>
            </div>
            </div>
            <div class='row display-md-none my-3'>
              <div class='col-2'><i class='fas fa-book color-t'></i></div>
            <div class="col display-md-none">
                <a href="{%url 'HowToUrl'%}" class="no-decoration sz-14">Tutorial</a>
            </div>
            </div>

                            <div class="row my-3">
                                <div class='col-2'><i class='fas fa-door-open color-t'></i></div>
                                <div class="col sz-14 display-md-none">
                                    <a class="color-black" href="{% url 'account_logout'%}">
                                        Log Out
                                    </a>
                                </div>
                            </div>
                            {%else%}
                            <div class="row my-2">
                                <div class="col">
                                    <a class="whie color-black btn color-bg-s color-white" href="{%url 'account_login' %}" style="">
                                        Log in
                                    </a>
                                </div>
                            </div>
                            {%endif%}
                            <hr class="color-white" style="border-color:white"/>
                            {%if request.user.is_authenticated %}
                            <div class="" hx-get="{%url 'MenuUrl' %}" hx-swap="innerHTML" hx-trigger="load">
                            </div>
                            {%endif%}
                            <br/>
                            {%endblock%}
                    </div>
                </div>
                </div>
                            <div class="col-md col-sm-12 ">
                                <div class="holder d-flex justify-content-center w-100 bg-color-bg-white" id="messageholder" style="position:fixed;z-index:10000000;">
                                </div>
                                {%block index%}
                {%if request.user.is_anonymous%}
                {%comment%}
                {%include 'index.html'%}
                {%endcomment%}
                {%else%}

                {%endif%}
                {%endblock%}
                                <div class="bg-ligth">
                                    {%block content%}

                {%endblock content%}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class='center bg-light sz-12 p-2 w-100' style='position:absolute;' >This website is developed by Awwal(loulou)</div>
        <script>
            $(window).on('load', function() {
                $('#pre-loader').addClass('hideI')})

            function show() {
                $('#dropdown').toggleClass('display-sm-none ');
                $('#hold').toggleClass('dropB')
            }

            $(window).on('scroll', function() {
                $('#header').addClass('animate__slideInUp color-bg-p color-white')
            })

            function cheMessage() {
                j = document.getElementById('message')
                v = document.body.contains(j)
                if (v) {
                    $('.message').fadeOut()
                }
            }

            function checkM() {
                setTimeout(cheMessage, 5000)
            }

            //$('#signal').click(chek)
            function confirm(x) {}
        </script>
    </body>
</html>